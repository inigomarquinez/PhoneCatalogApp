(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,a){e.exports=a.p+"static/media/gs-logo.296750d2.png"},143:function(e,t,a){e.exports=a(324)},320:function(e,t,a){},324:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a(0),l=a.n(r),o=a(22),c=a.n(o),i=a(20);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(9),d=a(55),m=a.n(d),u={SET_DATA_LOADED:"SET_DATA_LOADED",SET_LAST_SELECTED_PHONE_ID:"SET_LAST_SELECTED_PHONE_ID",SET_PHONE_LIST:"SET_PHONE_LIST",SET_SELECTED_PHONE_ID:"SET_SELECTED_PHONE_ID"},p=function(e){return{type:u.SET_SELECTED_PHONE_ID,payload:e}},h=u,E=a(23),g=a.n(E),f=a(17),b=a.n(f),y=a(15),w=a.n(y),v=a(128),O=a.n(v),x=a(56),D=a.n(x),S=a(59),T=a.n(S),_=a(58),j=a.n(_),L=a(57),C=a.n(L),N=a(126),P=a.n(N),I=a(127),k=a.n(I),A=a(26),B=a.n(A),H=a(41),F=a.n(H),M=a(129),W=a.n(M),q=a(125),G=a.n(q),U=function(e){var t=e.error,a=e.leftButtonHandler,n=e.leftButtonText,r=e.rightButtonHandler,o=e.rightButtonText;return l.a.createElement(D.a,{open:null!==t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(C.a,{id:"alert-dialog-title"},"Error"),l.a.createElement(j.a,null,l.a.createElement(G.a,{id:"alert-dialog-description"},t)),l.a.createElement(T.a,null,l.a.createElement(g.a,{onClick:a,color:"primary"},n),o&&l.a.createElement(g.a,{onClick:r,color:"primary"},o)))},J="calc(100% - ".concat("40%",")"),X=W()()(Object(i.withStyles)(function(e){return{content:{height:"100%",overflowY:"hidden"},images:{display:"flex",flexDirection:"row",height:"40%",overflowX:"auto"},imgContainer:{padding:"15px"},img:{height:"100%"},tableContainer:{height:J,overflowY:"auto"},table:{backgroundColor:e.palette.primary[50]},titleCell:{fontWeight:900,textAlign:"right"},chip:{margin:e.spacing.unit},description:{whiteSpace:"pre-line"}}})(function(e){var t=e.classes,a=e.error,n=e.fetchData,r=e.handleBuy,o=e.handleClose,c=e.phoneDetails;return l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{fullScreen:!0,open:!0,onClose:o,"aria-labelledby":"responsive-dialog-title"},l.a.createElement(C.a,{id:"responsive-dialog-title",disableTypography:!0},l.a.createElement(b.a,{align:"center",color:"primary",variant:"h3"},w.a.get(c,"name"))),l.a.createElement(j.a,{className:t.content},l.a.createElement("div",{className:t.images},w.a.get(c,"images",[]).map(function(e,a){return l.a.createElement("div",{key:a,className:t.imgContainer},l.a.createElement("img",{className:t.img,src:"".concat(window.location.protocol,"//").concat(window.location.hostname,":4000").concat(e),alt:"",maxheight:"100%",width:"auto"}))})),l.a.createElement("div",{className:t.tableContainer},l.a.createElement(P.a,{className:t.table},l.a.createElement(k.a,null,l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(b.a,{className:t.titleCell},"Brand")),l.a.createElement(B.a,null,l.a.createElement(b.a,null,w.a.get(c,"brand")))),l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(b.a,{className:t.titleCell},"Launch year")),l.a.createElement(B.a,null,l.a.createElement(b.a,null,w.a.get(c,"year")))),l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(b.a,{className:t.titleCell},"Price")),l.a.createElement(B.a,null,l.a.createElement(b.a,null,w.a.get(c,"price")," \u20ac"))),l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(b.a,{className:t.titleCell},"Available colors")),l.a.createElement(B.a,null,w.a.get(c,"colors",[]).map(function(e,a){return l.a.createElement(O.a,{key:a,className:t.chip,color:"secondary",variant:"outlined",label:e})}))),l.a.createElement(F.a,null,l.a.createElement(B.a,null,l.a.createElement(b.a,{className:t.titleCell},"Description")),l.a.createElement(B.a,null,l.a.createElement(b.a,{className:t.description,paragraph:!0},w.a.get(c,"description")))))))),l.a.createElement(T.a,null,l.a.createElement(g.a,{color:"primary",onClick:r,variant:"outlined"},"Buy"),l.a.createElement(g.a,{autoFocus:!0,color:"primary",onClick:o,variant:"outlined"},"Close"))),l.a.createElement(U,{error:a,leftButtonHandler:n,leftButtonText:"Try again",rightButtonHandler:o,rightButtonText:"Close"}))})),Y=Object(n.b)(function(e){return{selectedPhoneId:w.a.get(e,"selectedPhoneId")}},null),z=Object(s.b)(Y,Object(s.i)("phoneDetails","setPhoneDetails",null),Object(s.i)("error","setError",null),Object(s.g)({fetchData:function(e){var t=e.selectedPhoneId,a=e.setError,n=e.setPhoneDetails;return function(){console.log("Fetching data from ".concat(window.location.protocol,"//").concat(window.location.hostname,":4000/phones")),m()({url:"".concat(window.location.protocol,"//").concat(window.location.hostname,":4000/phones"),method:"post",data:{query:"\n            query Phones {\n              phone (id: ".concat(t,") {\n                id,\n                brand,\n                colors,\n                description,\n                images,\n                name,\n                price,\n                web,\n                year\n              } \n           }\n            ")}}).then(function(e){a(null),n(w.a.get(e,"data.data.phone",null))}).catch(function(e){console.log(e),a("Error fetching phone details from server.")})}}}),Object(s.g)({handleBuy:function(e){var t=e.phoneDetails;return function(){window.open(w.a.get(t,"web","_blank"))}},handleClose:function(e){var t=e.dispatch,a=e.phoneDetails;return function(){var e;t((e=a.id,{type:u.SET_LAST_SELECTED_PHONE_ID,payload:e})),t(p(null))}}}),Object(s.d)({componentDidMount:function(){this.props.fetchData()}}))(X),V=a(83),$=a.n(V),K=a(27),Q=a.n(K),R=a(44),Z=a.n(R),ee=a(82),te=a.n(ee),ae=a(139),ne=a.n(ae),re=a(84),le=a.n(re),oe=a(130),ce=a.n(oe),ie=a(134),se=a.n(ie),de=a(133),me=a.n(de),ue=a(131),pe=a.n(ue),he=a(132),Ee=a.n(he),ge=a(138),fe=a.n(ge),be=a(137),ye=a.n(be),we=a(136),ve=a.n(we),Oe=a(135),xe=a.n(Oe),De=Object(i.withStyles)(function(e){return{card:{"&:hover":{boxShadow:"0px 5px 5px -3px ".concat(e.palette.primary[400],", 0px 8px 10px 1px ").concat(e.palette.primary[300],", 0px 3px 14px 2px ").concat(e.palette.primary[200])}},header:{userSelect:"none"},media:{height:200,paddingTop:"56.25%"},content:{height:150,overflowX:"auto",paddingTop:"10px",paddingBottom:"10px"},learMore:{textAlign:"right"}}})(function(e){var t=e.classes,a=e.favorite,n=e.focus,r=e.onLearnMoreClick,o=e.phone,c=e.toogleFavorite;return l.a.createElement(ce.a,{raised:!0,className:t.card,focus:n.toString()},l.a.createElement(pe.a,{className:t.header,title:o.name,titleTypographyProps:{color:"primary",variant:"h6"}}),l.a.createElement(Ee.a,{className:t.media,image:"".concat(window.location.protocol,"//").concat(window.location.hostname,":4000").concat(o.thumbnail),title:o.name}),l.a.createElement(me.a,{className:t.content},l.a.createElement(b.a,{variant:"body2"},o.summary)),l.a.createElement(se.a,null,l.a.createElement(Q.a,{container:!0,alignItems:"center",direction:"row",spacing:16},l.a.createElement(Q.a,{item:!0,xs:5},l.a.createElement(xe.a,{InputLabelProps:{color:"primary"},InputProps:{readOnly:!0,endAdornment:l.a.createElement(ve.a,{position:"end"},"\u20ac")},label:"From",fullWidth:!0,value:o.price,variant:"filled"})),l.a.createElement(Q.a,{item:!0,xs:2},l.a.createElement(ye.a,{"aria-label":"Add to favorites",onClick:c},l.a.createElement(fe.a,{color:a?"secondary":"inherit"}))),l.a.createElement(Q.a,{item:!0,xs:5},l.a.createElement(g.a,{size:"small",color:"primary",className:t.learMore,fullWidth:!0,onClick:r},"Learn More")))))}),Se=Object(s.b)(Object(n.b)(null,null),Object(s.j)(function(){return{favorite:!1}},{toogleFavorite:function(e){var t=e.favorite;return function(){return{favorite:!t}}}}),Object(s.g)({onLearnMoreClick:function(e){var t=e.dispatch,a=e.phone;return function(){t(p(a.id))}}}))(De),Te=Object(i.withStyles)({filters:{paddingTop:"10px",paddingBottom:"10px"}})(function(e){var t=e.brandList,a=e.classes,n=e.filteredPhoneList,r=e.lastSelectedPhoneId,o=e.selectedBrands,c=e.setSelectedBrands;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Q.a,{container:!0,direction:"row",spacing:16},l.a.createElement(Q.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2},l.a.createElement($.a,{className:a.filters,fullWidth:!0},l.a.createElement(te.a,{shrink:!0,htmlFor:"brand-label-placeholder"},"Filter by brand"),l.a.createElement(le.a,{value:o,onChange:function(e){return c(e.target.value)},input:l.a.createElement(Z.a,{name:"brand",id:"brand-label-placeholder"}),displayEmpty:!0,multiple:!0,name:"brand"},t.map(function(e,t){return l.a.createElement(ne.a,{key:t,value:e},e)}))))),l.a.createElement(Q.a,{container:!0,direction:"row",spacing:16},n.map(function(e,t){return l.a.createElement(Q.a,{item:!0,key:t,xs:12,sm:6,md:4,lg:3,xl:2},l.a.createElement(Se,{phone:e,focus:r===e.id}))})))}),_e=Object(n.b)(function(e){var t=w.a.get(e,"phoneList"),a=w.a.map(t,"brand");return{brandList:w.a.uniq(a),lastSelectedPhoneId:w.a.get(e,"lastSelectedPhoneId"),phoneList:t}},null),je=Object(s.b)(_e,Object(s.c)({brandList:[],phoneList:[]}),Object(s.i)("selectedBrands","setSelectedBrands",[]),Object(s.h)(["selectedBrands"],function(e){var t=e.phoneList,a=e.selectedBrands;return{filteredPhoneList:w.a.isEmpty(a)?t:w.a.filter(t,function(e){return w.a.includes(a,e.brand)})}}))(Te),Le=Object(i.withStyles)(function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1},content:{margin:"auto"},spinner:{textAlign:"center",padding:"15px",color:e.palette.primary.main}}})(function(e){var t=e.classes;return l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:t.content},l.a.createElement(b.a,{align:"center",color:"primary",variant:"h4"},"Loading. Please, wait..."),l.a.createElement("div",{className:t.spinner},l.a.createElement("i",{className:"fas fa-spinner fa-pulse fa-10x"}))))}),Ce=Object(n.b)(function(e){return{isDataLoaded:w.a.get(e,"isDataLoaded"),phoneList:w.a.get(e,"phoneList"),selectedPhoneId:w.a.get(e,"selectedPhoneId")}},null),Ne=Object(s.b)(Ce,Object(s.a)(function(e){return!e.isDataLoaded},Object(s.e)(Le)),Object(s.a)(function(e){return null===e.selectedPhoneId},Object(s.e)(je),Object(s.e)(z)))(Object(s.f)()),Pe=a(140),Ie=a.n(Pe),ke=Object(i.withStyles)(function(e){return{root:{minHeight:"100vh",display:"flex",flexDirection:"column"},header:{padding:"15px",display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",alignContent:"center",userSelect:"none"},logo:{cursor:"pointer"},body:{padding:"15px",backgroundColor:e.palette.primary[50],flexGrow:1,display:"flex",flexDirection:"column"},footer:{padding:"15px",textAlign:"right"}}})(function(e){var t=e.classes,a=e.contactUs,n=e.error,r=e.fetchData,o=e.goToGuideSmiths;return l.a.createElement("div",{className:t.root},l.a.createElement("header",{className:t.header},l.a.createElement("img",{className:t.logo,src:Ie.a,alt:"gs-logo",height:"50px",onClick:o}),l.a.createElement(b.a,{color:"primary",variant:"h4"},"PhoneCatalogApp")),l.a.createElement("div",{className:t.body},l.a.createElement(Ne,null),l.a.createElement(U,{error:n,leftButtonHandler:r,leftButtonText:"Try again"})),l.a.createElement("footer",{className:t.footer},l.a.createElement(g.a,{color:"primary",onClick:a},"Contact Us")))}),Ae=Object(n.b)(null,null),Be=Object(s.b)(Ae,Object(s.i)("error","setError",null),Object(s.g)({contactUs:function(){return function(){window.open("https://www.guidesmiths.com/contact","_blank")}},fetchData:function(e){var t=e.dispatch,a=e.setError;return function(){console.log("Fetching data from ".concat(window.location.protocol,"//").concat(window.location.hostname,":4000/phones")),m()({url:"".concat(window.location.protocol,"//").concat(window.location.hostname,":4000/phones"),method:"post",data:{query:"\n            query Phones {\n              phones {\n                id,\n                brand,\n                name,\n                price,\n                summary,\n                thumbnail\n              } \n           }\n            "}}).then(function(e){var n;a(null),t((n=e.data.data.phones,{type:u.SET_PHONE_LIST,payload:n})),t(function(e){return{type:u.SET_DATA_LOADED,payload:e}}(!0))}).catch(function(e){console.log(e),a("Error fetching phones information from server.")})}},goToGuideSmiths:function(){return function(){window.open("https://www.guidesmiths.com/","web","_blank")}}}),Object(s.d)({componentDidMount:function(){this.props.fetchData()}}))(ke),He=a(46),Fe=a(141),Me=a(47),We={isDataLoaded:!1,phoneList:[],selectedPhoneId:null,lastSelectedPhoneId:null},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.SET_DATA_LOADED:return Object(Me.a)({},e,{isDataLoaded:t.payload});case h.SET_LAST_SELECTED_PHONE_ID:return Object(Me.a)({},e,{lastSelectedPhoneId:t.payload});case h.SET_PHONE_LIST:return Object(Me.a)({},e,{phoneList:t.payload});case h.SET_SELECTED_PHONE_ID:return Object(Me.a)({},e,{selectedPhoneId:t.payload});default:return e}},Ge=a(81),Ue=a.n(Ge),Je=a(142),Xe=a.n(Je),Ye=Object(i.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:Xe.a,secondary:Ue.a}});a(320),a(321);c.a.render(l.a.createElement(n.a,{store:Object(He.c)(qe,Object(He.a)(Fe.a))},l.a.createElement(i.MuiThemeProvider,{theme:Ye},l.a.createElement(Be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,1,2]]]);
//# sourceMappingURL=main.020b2bf8.chunk.js.map