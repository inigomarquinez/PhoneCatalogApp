(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,n,a){e.exports=a.p+"static/media/gs-logo.296750d2.png"},140:function(e,n,a){e.exports=a(313)},149:function(e,n,a){},313:function(e,n,a){"use strict";a.r(n);var t=a(21),r=a(0),l=a.n(r),o=a(20),c=a.n(o);a(149),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(14),s=a(123),d=a.n(s),u=a(28),m=a(22),p=a.n(m),E=a(53),h=a.n(E),b=a(56),f=a.n(b),g=a(55),y=a.n(g),O=a(31),L=a.n(O),w=a(54),v=a.n(w),j=a(76),D=a.n(j),S=a(138),T=a.n(S),_=a(18),C=a.n(_),P=function(){return l.a.createElement("div",null,l.a.createElement("div",null,"LOADING. PLEASE, WAIT."),l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-spinner fa-pulse fa-10x"})))},A=a(83),I=a.n(A),N=a(41),k=a.n(N),B=a(133),x=a.n(B),H=a(79),F=a.n(H),M=a(78),W=a.n(M),q=a(77),J=a.n(q),z=a(80),G=a.n(z),U={SET_DATA_LOADED:"SET_DATA_LOADED",SET_PHONE_LIST:"SET_PHONE_LIST",SET_SELECTED_PHONE_ID:"SET_SELECTED_PHONE_ID"},Y=function(e){return{type:U.SET_SELECTED_PHONE_ID,payload:e}},Z=U,$=a(124),K=a.n($),Q=a(125),R=a.n(Q),V=a(126),X=a.n(V),ee=a(127),ne=a.n(ee),ae=a(128),te=a.n(ae),re=a(131),le=a.n(re),oe=a(36),ce=a.n(oe),ie=a(132),se=a.n(ie),de=a(129),ue=a.n(de),me=a(130),pe=a.n(me),Ee=Object(u.withStyles)(function(e){return{card:{},media:{height:200,paddingTop:"56.25%"},actions:{display:"flex"}}})(function(e){var n=e.classes,a=e.onLearnMoreClick,t=e.phone;return l.a.createElement(K.a,{className:n.card},l.a.createElement(R.a,{title:t.name}),l.a.createElement(X.a,{className:n.media,image:"".concat(window.location.protocol,"//").concat(window.location.hostname,":4000").concat(t.thumbnail),title:t.name}),l.a.createElement(ne.a,null,l.a.createElement(ce.a,{component:"p"},t.summary)),l.a.createElement(te.a,{className:n.actions,disableActionSpacing:!0},l.a.createElement(ue.a,{variant:"filled",label:"From",value:t.price,InputProps:{readOnly:!0,endAdornment:l.a.createElement(pe.a,{position:"end"},"\u20ac")}}),l.a.createElement(p.a,{size:"small",color:"primary",onClick:a},"Learn More"),l.a.createElement(le.a,{"aria-label":"Add to favorites"},l.a.createElement(se.a,null))))}),he=Object(i.b)(Object(t.b)(null,null),Object(i.g)({onLearnMoreClick:function(e){var n=e.dispatch,a=e.phone;return function(){n(Y(a.id))}}}))(Ee),be=function(e){var n=e.brandList,a=e.filteredPhoneList,t=e.selectedBrands,r=e.setSelectedBrands;return l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,null,l.a.createElement(J.a,{shrink:!0,htmlFor:"brand-label-placeholder"},"Brand"),l.a.createElement(G.a,{value:t,onChange:function(e){return r(e.target.value)},input:l.a.createElement(k.a,{name:"brand",id:"brand-label-placeholder"}),displayEmpty:!0,multiple:!0,name:"brand"},n.map(function(e,n){return l.a.createElement(x.a,{key:n,value:e},e)})),l.a.createElement(F.a,null,"You can filter by brand")),l.a.createElement(I.a,{container:!0,direction:"row",spacing:16},a.map(function(e,n){return l.a.createElement(I.a,{item:!0,key:n,xs:12,sm:6,md:4,lg:3,xl:2},l.a.createElement(he,{phone:e}))})))},fe=Object(t.b)(function(e){var n=C.a.get(e,"phoneList"),a=C.a.map(n,"brand");return{brandList:C.a.uniq(a),phoneList:n}},null),ge=Object(i.b)(fe,Object(i.c)({brandList:[],phoneList:[]}),Object(i.i)("selectedBrands","setSelectedBrands",[]),Object(i.h)(["selectedBrands"],function(e){var n=e.phoneList,a=e.selectedBrands;return{filteredPhoneList:C.a.isEmpty(a)?n:C.a.filter(n,function(e){return C.a.includes(a,e.brand)})}}))(be),ye=a(134),Oe=a.n(ye),Le=a(135),we=a.n(Le),ve=a(136),je=a.n(ve)()()(Object(u.withStyles)({gridList:{flexWrap:"nowrap",transform:"translateZ(0)"}})(function(e){var n=e.classes,a=(e.fullScreen,e.handleBuy),t=e.handleClose,r=e.phone;return l.a.createElement(h.a,{fullScreen:!0,open:!0,onClose:t,"aria-labelledby":"responsive-dialog-title"},l.a.createElement(v.a,{id:"responsive-dialog-title"},r.name),l.a.createElement(y.a,null,l.a.createElement(Oe.a,{className:n.gridList,cols:1},r.images.map(function(e,n){return l.a.createElement(we.a,{key:n},l.a.createElement("img",{src:"".concat(window.location.protocol,"//").concat(window.location.hostname,":4000").concat(e),alt:""}))})),l.a.createElement(L.a,null,"Brand: ",r.brand),l.a.createElement(L.a,null,"Launch year: ",r.year),l.a.createElement(L.a,null,r.description),l.a.createElement(L.a,null,r.price)),l.a.createElement(f.a,null,l.a.createElement(p.a,{onClick:a,color:"primary"},"Buy"),l.a.createElement(p.a,{onClick:t,color:"primary",autoFocus:!0},"Close")))})),De=Object(t.b)(function(e){var n=C.a.get(e,"phoneList"),a=C.a.get(e,"selectedPhoneId");return{phone:C.a.find(n,["id",a])}},null),Se=Object(i.b)(De,Object(i.g)({handleBuy:function(e){var n=e.phone;return function(){window.open(n.web,"_blank")}},handleClose:function(e){var n=e.dispatch;return function(){n(Y(null))}}}))(je),Te=Object(t.b)(function(e){return{isDataLoaded:C.a.get(e,"isDataLoaded"),phoneList:C.a.get(e,"phoneList"),selectedPhoneId:C.a.get(e,"selectedPhoneId")}},null),_e=Object(i.b)(Te,Object(i.a)(function(e){return!e.isDataLoaded},Object(i.e)(P)),Object(i.a)(function(e){return null===e.selectedPhoneId},Object(i.e)(ge),Object(i.e)(Se)))(Object(i.f)()),Ce=a(137),Pe=a.n(Ce),Ae=Object(u.createMuiTheme)({palette:{primary:T.a,secondary:D.a},status:{danger:"orange"}}),Ie=Object(u.withStyles)({header:{padding:"15px"},body:{padding:"15px"},footer:{padding:"15px",textAlign:"right"}})(function(e){var n=e.classes,a=e.error,t=e.fetchData;return l.a.createElement(u.MuiThemeProvider,{theme:Ae},l.a.createElement("header",{className:n.header},l.a.createElement("img",{src:Pe.a,alt:"gs-logo",height:"100"}),"PhoneCatalogApp"),l.a.createElement("div",{className:n.body},l.a.createElement(_e,null),l.a.createElement(h.a,{open:null!==a,onClose:function(){return console.log("handleClose")},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(v.a,{id:"alert-dialog-title"},"Error"),l.a.createElement(y.a,null,l.a.createElement(L.a,{id:"alert-dialog-description"},a)),l.a.createElement(f.a,null,l.a.createElement(p.a,{onClose:function(){return console.log("handleClose")},color:"primary"},"Close"),l.a.createElement(p.a,{onClick:t,color:"primary",autoFocus:!0},"Try again")))),l.a.createElement("footer",{className:n.footer},"Contact Us"))}),Ne=Object(t.b)(null,null),ke=Object(i.b)(Ne,Object(i.i)("error","setError",null),Object(i.g)({fetchData:function(e){var n=e.dispatch,a=e.setError;return function(){console.log("Fetching data from ".concat(window.location.protocol,"//").concat(window.location.hostname,":4000/phones")),d()({url:"".concat(window.location.protocol,"//").concat(window.location.hostname,":4000/phones"),method:"post",data:{query:"\n            query Phones {\n              phones {\n                id,\n                brand,\n                colors,\n                description,\n                images,\n                name,\n                price,\n                summary,\n                thumbnail,\n                web,\n                year\n              } \n           }\n            "}}).then(function(e){var t;a(null),n((t=e.data.data.phones,{type:U.SET_PHONE_LIST,payload:t})),n(function(e){return{type:U.SET_DATA_LOADED,payload:e}}(!0))}).catch(function(e){console.log(e),a("error")})}}}),Object(i.d)({componentDidMount:function(){this.props.fetchData()}}))(Ie),Be=a(43),xe=a(139),He=a(57),Fe={isDataLoaded:!1,phoneList:[],selectedPhoneId:null},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Z.SET_DATA_LOADED:return Object(He.a)({},e,{isDataLoaded:n.payload});case Z.SET_PHONE_LIST:return Object(He.a)({},e,{phoneList:n.payload});case Z.SET_SELECTED_PHONE_ID:return Object(He.a)({},e,{selectedPhoneId:n.payload});default:return e}};a(310);c.a.render(l.a.createElement(t.a,{store:Object(Be.c)(Me,Object(Be.a)(xe.a))},l.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[140,1,2]]]);
//# sourceMappingURL=main.7bccc6ea.chunk.js.map